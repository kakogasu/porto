<!DOCTYPE html>
<html lang="id">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Kakogasu — Portofolio</title>

    <link rel="icon" type="image/x-icon" href="IMG/logo.png">

    <!-- Perf: preconnect ke CDN & Fonts -->
    <link rel="preconnect" href="https://cdn.tailwindcss.com" crossorigin>
    <link rel="preconnect" href="https://unpkg.com" crossorigin>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

    <!-- Tailwind via CDN (defer load) -->
    <script src="https://cdn.tailwindcss.com" defer></script>
    <!-- Lucide icons (defer) -->
    <script src="https://unpkg.com/lucide@latest" defer></script>

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&family=Playfair+Display:ital,wght@0,400;1,400&display=swap" rel="stylesheet" />

    <style>
      :root{
        --c1:#38bdf8; --c2:#3b82f6; --c3:#1d4ed8; --c4:#1e40af; --c5:#1e3a8a; --c6:#0b1f4b;
        --grad-hero: linear-gradient(to bottom, var(--c1), var(--c2) 45%, var(--c3) 100%);
        --grad-about: linear-gradient(to bottom, var(--c3), var(--c4));
        --grad-services: linear-gradient(to bottom, var(--c4), var(--c5));
        --grad-work: linear-gradient(to bottom, var(--c5), var(--c6));
        --solid-footer: var(--c6);
      }

      html{ font-family: Inter, ui-sans-serif, system-ui; scroll-behavior: smooth; }
      .serif{ font-family: "Playfair Display", serif; }
      section{ scroll-margin-top: 88px; }

      .glass{
        background: rgba(255,255,255,0.10);
        border: 1px solid rgba(255,255,255,0.45);
        backdrop-filter: blur(14px);
        -webkit-backdrop-filter: blur(14px);
      }
      .section-inner{ border-radius: 1.25rem; padding: 1.25rem; position: relative; overflow: hidden; isolation: isolate; }

      .shapes{ pointer-events: none; position: absolute; inset: 0; z-index: -1; }
      .shape{ position: absolute; filter: blur(40px); opacity:.75; border-radius:9999px; mix-blend-mode: screen; transform: translateZ(0); animation: float 10s ease-in-out infinite; }
      .shape.s1{ width:38vmin; height:38vmin; background: radial-gradient(circle at 30% 30%, rgba(56,189,248,.9), rgba(59,130,246,0) 60%); }
      .shape.s2{ width:46vmin; height:46vmin; background: radial-gradient(circle at 70% 40%, rgba(59,130,246,.9), rgba(29,78,216,0) 60%); animation-delay:-2.5s; }
      .shape.s3{ width:30vmin; height:30vmin; background: radial-gradient(circle at 50% 70%, rgba(29,78,216,.9), rgba(30,64,175,0) 60%); animation-delay:-5s; }
      @keyframes float{ 0%,100%{transform:translate3d(0,0,0);} 50%{transform:translate3d(0,-12px,0);} }
      /* Pause animasi shapes saat tidak terlihat (ditoggle via JS) */
      .anim-paused .shape{ animation-play-state: paused; }

      /* Tilt cards */
      .follow-tilt{ position: relative; transform-style: preserve-3d; transition: transform .12s ease-out, box-shadow .12s ease-out; }
      .follow-tilt::after{
        content:""; position:absolute; inset:-1px; border-radius:inherit; pointer-events:none;
        background: radial-gradient(300px 300px at var(--gx,50%) var(--gy,50%), rgba(255,255,255,.25), rgba(255,255,255,0) 60%);
        mix-blend-mode: screen; opacity:.55; transition: opacity .15s ease-out;
      }
      /* will-change hanya saat aktif/hover (hemat memori) */
      .follow-tilt.is-active{ will-change: transform, box-shadow; }

      .service-card, .work-card{ border-radius: 1rem; box-shadow: 0 10px 30px rgba(0,0,0,.30); }
      .service-title{ font-weight: 800; letter-spacing: .2px; }
      .work-card img{ border-radius: .75rem; }

      #siteHeader{ position: fixed; top:0; left:0; width:100%; z-index:50; background: transparent; }
      .nav-pill{ border-radius:9999px; background: transparent; border:none; }

      .glass-btn{
        background: rgba(255,255,255,0.10);
        border: 1px solid rgba(255,255,255,0.45);
        backdrop-filter: blur(14px);
        -webkit-backdrop-filter: blur(14px);
        position: relative; overflow: hidden; isolation: isolate;
      }
      .glass-btn::before{
        content:""; position:absolute; inset:-1px;
        background: radial-gradient(220px 220px at 30% 30%, rgba(255,255,255,.25), transparent 60%);
        mix-blend-mode: screen; pointer-events:none;
      }

      @media (hover: none) and (pointer: coarse){
        .follow-tilt{ transform: none !important; }
        .follow-tilt::after{ display: none; }
      }
    </style>
  </head>
  <body class="text-zinc-100" style="background: var(--solid-footer);">

    <!-- HEADER (transparan) -->
    <header id="siteHeader">
      <div class="mx-auto max-w-7xl px-6 flex justify-between items-center py-6"></div>
      <nav class="pointer-events-none absolute left-1/2 top-2 sm:top-8 -translate-x-1/2">
        <ul class="pointer-events-auto glass rounded-full shadow-2xl ring-1 ring-black/5 dark:ring-white/10 px-4 py-2 flex items-center gap-6">
          <li>
            <!-- Navbar: Instagram (ditukar dari Discord) -->
            <a href="https://www.instagram.com/ihza.wafi/" target="_blank" class="navlink px-3 flex items-center gap-2" rel="noopener">
              <i data-lucide="instagram" class="w-4 h-4" aria-hidden="true"></i>
              <span>Instagram</span>
            </a>
          </li>
        </ul>
      </nav>
    </header>

    <!-- HERO -->
    <section id="hero" class="min-h-screen flex items-center" style="background: var(--grad-hero);">
      <div class="mx-auto max-w-5xl px-6">
        <h1 class="text-5xl sm:text-6xl lg:text-7xl font-extrabold leading-tight">
          dari <span class="italic" style="color:#032f6d;">ide</span> menjadi
          <span class="serif italic text-white">desain</span>,
          yang <span class="serif italic text-white">bermakna</span>.
        </h1>
        <p class="mt-6 text-lg text-white/90">
          Desain <span class="serif italic font-bold" style="color:#032f6d;">kreatif</span> untuk brand yang berkesan.
        </p>

        <div class="mt-8 text-white/90 max-w-3xl">
          <p>
            Saya <span class="italic" style="color:#032f6d;">ihza</span>, seorang desainer grafis yang berdedikasi
            untuk menghadirkan nilai lebih melalui desain. Setiap karya berawal dari ide sederhana yang
            saya kembangkan dengan riset dan kreativitas.
          </p>
        </div>

        <div class="mt-10 flex flex-wrap gap-4 items-center">
          <a href="#work" class="flex items-center gap-2 rounded-2xl px-4 py-2 glass-btn hover:bg-white/20 transition">My Works</a>
          <!-- Hero CTA: Join Discord (ditukar dari Instagram) -->
          <a href="https://discord.gg/q2uzP7Xccn" target="_blank" rel="noopener" class="flex items-center gap-2 rounded-2xl px-4 py-2 glass-btn hover:bg-white/20 transition">
            <i data-lucide="discord" class="w-4 h-4" aria-hidden="true"></i>
            <span class="text-sm font-medium">Join Discord</span>
          </a>
        </div>
      </div>
    </section>

    <!-- SERVICES -->
    <section id="services" class="py-24" style="background: var(--grad-services);">
      <div class="mx-auto max-w-5xl px-6">
        <div class="section-inner glass anim-paused">
          <div class="shapes" aria-hidden="true">
            <span class="shape s1" style="top:-14%; right:-12%;"></span>
            <span class="shape s2" style="bottom:-16%; left:-10%;"></span>
            <span class="shape s3" style="top:55%; left:52%; transform:translate(-50%,-50%);"></span>
          </div>

          <h2 class="text-2xl font-semibold mb-6 text-white">Services</h2>

          <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
            <article class="service-card glass follow-tilt p-5">
              <div class="service-title text-white text-lg">Desain Grafis</div>
              <p class="mt-3 text-sm text-white/90">Brand kit, poster, feed IG, banner, thumbnail. Termasuk 2–3 opsi konsep, revisi terarah, dan master file (PNG/SVG/PSD).</p>
              <ul class="mt-3 text-xs text-white/85 list-disc pl-4 space-y-1">
                <li>Guideline singkat & variasi ukuran</li>
                <li>Optimasi multi-platform</li>
                <li>Waktu pengerjaan fleksibel</li>
              </ul>
            </article>

            <article class="service-card glass follow-tilt p-5">
              <div class="service-title text-white text-lg">MV (Music Video)</div>
              <p class="mt-3 text-sm text-white/90">Editing MV/AMV style anime/vtuber: timing beat, transisi sinematik, typographic motion, dan color grading dasar.</p>
              <ul class="mt-3 text-xs text-white/85 list-disc pl-4 space-y-1">
                <li>Storyboard ringkas sebelum eksekusi</li>
                <li>Output 1080p/60fps</li>
                <li>Revisi ritme & transisi</li>
              </ul>
            </article>

            <article class="service-card glass follow-tilt p-5">
              <div class="service-title text-white text-lg">Video Editing</div>
              <p class="mt-3 text-sm text-white/90">Konten YouTube/Shorts: pacing kuat, hook 3–5 detik, caption dinamis, dan sound design ringan.</p>
              <ul class="mt-3 text-xs text-white/85 list-disc pl-4 space-y-1">
                <li>Template caption & highlight</li>
                <li>Rasio 16:9 / 9:16 / 1:1</li>
                <li>Optimasi durasi & retention</li>
              </ul>
            </article>
          </div>
        </div>
      </div>
    </section>

    <!-- WORK -->
    <section id="work" class="py-24" style="background: var(--grad-work);">
      <div class="mx-auto max-w-6xl px-6">
        <div class="section-inner glass anim-paused">
          <div class="shapes" aria-hidden="true">
            <span class="shape s1" style="top:-12%; left:-12%;"></span>
            <span class="shape s2" style="bottom:-18%; right:-10%;"></span>
            <span class="shape s3" style="top:50%; left:48%; transform:translate(-50%,-50%);"></span>
          </div>

          <h2 class="text-2xl font-semibold mb-6 text-white">My Work</h2>

          <div class="grid md:grid-cols-3 gap-6">
            <article class="work-card glass follow-tilt p-5">
              <h3 class="font-semibold text-white">Desain Grafis</h3>
              <p class="mt-2 text-sm text-white/90">Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>
              <img src="IMG/wip.png" alt="desain grafis" class="w-full mt-4" loading="lazy" decoding="async" />
              <p class="text-sm text-white/90 mt-3">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed euismod, nisl at convallis hendrerit...</p>
            </article>

            <article class="work-card glass follow-tilt p-5">
              <h3 class="font-semibold text-white">MV (Music Video)</h3>
              <p class="mt-2 text-sm text-white/90">Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>
              <img src="IMG/wip.png" alt="MV" class="w-full mt-4" loading="lazy" decoding="async" />
              <p class="text-sm text-white/90 mt-3">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed euismod, nisl at convallis hendrerit...</p>
            </article>

            <article class="work-card glass follow-tilt p-5">
              <h3 class="font-semibold text-white">Video Editing</h3>
              <p class="mt-2 text-sm text-white/90">Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>
              <img src="IMG/wip.png" alt="Video Editing" class="w-full mt-4" loading="lazy" decoding="async" />
              <p class="text-sm text-white/90 mt-3">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed euismod, nisl at convallis hendrerit...</p>
            </article>
          </div>
        </div>
      </div>
    </section>

    <!-- FOOTER -->
    <footer class="py-12 bg-[var(--solid-footer)]">
      <div class="mx-auto max-w-5xl px-6">
        <h3 class="text-xl font-semibold text-white">My contacts</h3>
        <p class="mt-2 text-white/80">ihzawafi870@gmail.com</p>

        <div class="mt-6 flex gap-6 items-center">
          <a href="https://vgen.co/kakogasu" target="_blank" class="transition hover:scale-110" rel="noopener">
            <img src="logo/VG Logo Badge - for dark bg.png" alt="VGen" class="w-7 h-7 object-contain" loading="lazy" decoding="async" />
          </a>
          <a href="https://www.facebook.com/ihza.wafi.3" target="_blank" class="text-white/70 hover:text-blue-500 transition" rel="noopener">
            <i data-lucide="facebook" class="w-6 h-6" aria-hidden="true"></i>
          </a>
          <a href="https://www.instagram.com/ihza.wafi/" target="_blank" class="text-white/70 hover:text-pink-500 transition" rel="noopener">
            <i data-lucide="instagram" class="w-6 h-6" aria-hidden="true"></i>
          </a>
        </div>

        <p class="mt-8 text-xs text-white/60">© 2025 Kakogasu Studio. All rights reserved.</p>
      </div>
    </footer>

    <!-- Main Scripts (defer execution after parsing) -->
    <script>
      // Jalankan icon injection setelah lucide ready
      window.addEventListener('DOMContentLoaded', () => {
        if (window.lucide && lucide.createIcons) {
          lucide.createIcons();
        }
      }, { once:true });

      // ----- IntersectionObserver: pause/resume animasi shapes saat off/on screen -----
      (() => {
        if (!('IntersectionObserver' in window)) return;
        const observer = new IntersectionObserver((entries) => {
          entries.forEach(entry => {
            // Toggle class di section-inner untuk pause animasi
            entry.target.classList.toggle('anim-paused', !entry.isIntersecting);
          });
        }, { rootMargin: '0px 0px -20% 0px', threshold: 0.1 });

        document.querySelectorAll('.section-inner').forEach(el => observer.observe(el));
      })();

      // ----- Efek tilt: di-throttle dengan rAF (hemat CPU) -----
      (() => {
        const supportsHover = window.matchMedia('(hover: hover) and (pointer: fine)').matches;
        if (!supportsHover) return;

        const clamp = (n, min, max) => Math.max(min, Math.min(n, max));
        const maxRotate = 10; // derajat

        document.querySelectorAll('.follow-tilt').forEach(card => {
          let rafId = null, lastEvt = null;

          const onMove = (e) => {
            lastEvt = e;
            if (rafId) return;
            rafId = requestAnimationFrame(() => {
              rafId = null;
              const rect = card.getBoundingClientRect();
              const cx = rect.left + rect.width / 2;
              const cy = rect.top + rect.height / 2;
              const x = lastEvt.clientX - cx;
              const y = lastEvt.clientY - cy;
              const rx = clamp((y / (rect.height / 2)) * -maxRotate, -maxRotate, maxRotate);
              const ry = clamp((x / (rect.width / 2)) *  maxRotate, -maxRotate,  maxRotate);
              const gx = ((lastEvt.clientX - rect.left) / rect.width) * 100;
              const gy = ((lastEvt.clientY - rect.top) / rect.height) * 100;

              card.style.setProperty('--gx', gx + '%');
              card.style.setProperty('--gy', gy + '%');
              card.style.transform = `perspective(900px) rotateX(${rx}deg) rotateY(${ry}deg)`;
              card.style.boxShadow = `0 18px 48px rgba(0,0,0,.40)`;
            });
          };

          const activate = () => card.classList.add('is-active');
          const reset = () => {
            if (rafId) { cancelAnimationFrame(rafId); rafId = null; }
            card.classList.remove('is-active');
            card.style.transform = 'perspective(900px) rotateX(0) rotateY(0)';
            card.style.boxShadow = '0 10px 30px rgba(0,0,0,.30)';
            card.style.setProperty('--gx', '50%');
            card.style.setProperty('--gy', '50%');
          };

          card.addEventListener('pointerenter', activate, { passive:true });
          card.addEventListener('pointermove', onMove, { passive:true });
          card.addEventListener('pointerleave', reset, { passive:true });
        });
      })();

      // ----- Smooth Scroll (ringkas & aksesibel) -----
      (() => {
        const prefersReduced = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
        document.addEventListener('click', (e) => {
          const link = e.target.closest('a[href^="#"]');
          if (!link) return;
          const id = link.getAttribute('href');
          if (id === '#') return;
          const target = document.querySelector(id);
          if (!target) return;
          e.preventDefault();
          target.scrollIntoView({ behavior: prefersReduced ? 'auto' : 'smooth', block: 'start' });
          history.pushState(null, '', id);
          target.setAttribute('tabindex', '-1'); target.focus({ preventScroll: true });
          setTimeout(() => target.removeAttribute('tabindex'), 800);
        }, { passive:false });
      })();
    </script>
  </body>
</html>
